{% extends 'copo/base.html' %}

{% load staticfiles %}
{% load web_tags %}
{% load html_tags %}

{% block stylesheet_block %}
    <link rel="stylesheet" href="{% static 'copo/css/copo/browse_style.css' %}" xmlns="http://www.w3.org/1999/html">
    <link rel="stylesheet" href="{% static 'copo/css/copo/profile_pricelist.css' %}">
    <link rel="stylesheet" href="{% static 'copo/css/copo/datafile.css' %}">


    <!-- blueimp Gallery styles -->
    <link rel="stylesheet" href="//blueimp.github.io/Gallery/css/blueimp-gallery.min.css">
    <!-- CSS to style the file input field as button and adjust the Bootstrap progress bars -->
    <link rel="stylesheet" href="{% static 'copo/css/uploader/jquery.fileupload.css' %}">
    <link rel="stylesheet" href="{% static 'copo/css/uploader/jquery.fileupload-ui.css' %}">
    <!-- CSS adjustments for browsers with JavaScript disabled -->
    <noscript>
        <link rel="stylesheet" href="{% static 'copo/css/uploader/jquery.fileupload-noscript.css' %}">
    </noscript>
    <noscript>
        <link rel="stylesheet" href="{% static 'copo/css/jquery.fileupload-ui-noscript.css' %}">
    </noscript>

{% endblock %}


{% block title_block %} Index {% endblock %}

{% block tagline_block %}

{% endblock %}

{% block browse_header_block %}
    {% csrf_token %}
    <div hidden id="hidden_attrs">
        <!-- hidden attributes  -->
        <input type="hidden" id="figshare_check_creds_url" value="{% url 'rest:check_figshare_credentials' %}"/>
        <input type="hidden" id="zipping_image" value="{% static 'copo/img/pacman.gif' %}"/>
        <input type="hidden" id="hashing_image" value="{% static 'copo/img/pacman.gif' %}"/>
        <input type="hidden" value="{% url 'copo:copo_submissions' profile_id=profile_id %}" name="submission_url"
               id="submission_url"/>
    </div>
{% endblock browse_header_block %}

{% block pill_items_sidebar_local %}

{% endblock pill_items_sidebar_local %}

{% block page_tile %}
    <ol class="breadcrumb page-title-breadcrumb">
        <li>
            <div class="dropdown">
                <a class="dropdown-toggle btn" data-toggle="dropdown">Profile
                    <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a title="{{ profile.title }}" href="{% url 'copo:view_copo_profile' profile_id=profile_id %}">Profile</a>
                    </li>
                    <li class="disabled"><a href="{% url 'copo:copo_data' profile_id=profile_id %}">Data</a></li>
                    <li><a href="{% url 'copo:copo_samples' profile_id=profile_id %}">Samples</a></li>
                    <li><a href="{% url 'copo:copo_submissions' profile_id=profile_id %}">Submissions</a></li>
                    <li><a href="{% url 'copo:copo_publications' profile_id=profile_id %}">Publications</a></li>
                    <li><a href="{% url 'copo:copo_people' profile_id=profile_id %}">People</a></li>
                </ul>
            </div>
        </li>
        <li class="active">Data Description</li>
    </ol>
{% endblock page_tile %}


{% block content %}

    <!--test begins -->

    <!--test ends -->

    <div class="row" style="margin-top: 35px;">
        <div class="col-sm-6 col-md-6 col-lg-6" style="padding-right: 5px !important;">
            <div class="panel panel-default">
                <div class="panel-heading" style="background-image: none;">
                    <i class="fa fa-database"></i>
                    <span class="icon_text">Datafiles</span>
                </div>
                <div class="panel-body">
                    <!-- panel for file upload -->
                    <div class="panel panel-default" style="font-size: 12px;">
                        <div class="panel-heading" style="background-image: none;">
                            <div>
                                <i class="fa fa-upload"></i>
                                <span>Upload to COPO</span>
                            </div>
                        </div>
                        <div class="panel-body" style="max-height:300px; overflow-y: auto;">
                            <div style="display: inline-block; text-indent: 0.5em;">
                                <form enctype="multipart/form-data" id="upload_0" method="POST"
                                      action="/rest/receive_data_file_chunked/"
                                      style="margin-right:40px">
                                    {% csrf_token %}
                        <span id="upload_files_button"
                              class="btn btn-primary btn-xs fileinput-button">
                            <span>Select files...</span>
                            <input type="file" name="file"
                                   onchange="get_chunk_size(event)" multiple/>
                            <input type="hidden" name="upload_id" value=""/>
                            <input type="hidden" name="panel_ordering"
                                   value="0"/>
                            <input type="hidden" name="exp_id" value=""/>
                        </span>
                                </form>
                                <div class="file_status_label" style="margin-top: 8px;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- panel for datafile table -->
                    <div class="panel panel-default" id="panel_datafile" style="font-size: 12px;">
                        <div class="panel-heading" style="background-image: none;">
                            <i class="fa fa-file"></i>
                            <span>Files in COPO</span>
                        </div>
                        <div class="panel-body" style="max-width: 100%; overflow-x: auto;">
                            <div id="data_all_data">
                                <table id="datafile_table"
                                       class="table table-striped table-bordered order-column hover copo-datatable copo-table-header"
                                       cellspacing="0" width="100%">
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer"></div>
            </div>
        </div>
        <div class="col-sm-6 col-md-6 col-lg-6" style="padding-left: 5px !important;">
            <!-- panel for description wizard -->
            <div class="panel panel-default" id="panel_wizard">
                <div class="panel-heading" style="background-image: none;">
                    <span data-target="data_wizard_data">
                        <i class="fa fa-tags "></i>
                        <span class="icon_text">Description Wizard</span>
                    </span>
                </div>
                <div class="panel-body" style="max-width: 100%; overflow-x: auto;">
                    <div class="panel-group wizard-message-panel">
                        <div class="panel panel-primary" style=" border: 2px solid #3278b4;">
                            <div class="panel-heading" style="background-image: none;">
                                <div class="row">
                                    <div class="col-sm-10 col-md-10 col-lg-10">
                                        <span style="font-weight: bold; margin-left: 15px;">Description How-tos...</span>
                                    </div>
                                    <div class="col-sm-2 col-md-2 col-lg-2">
                                        <i data-toggle="collapse" href="#collapseAlertTutorial" title="Toggle display"
                                           class="fa fa-book pull-right control-message-trigger"
                                           style="cursor: pointer; cursor: hand; font-weight: bold;"></i>
                                    </div>
                                </div>
                            </div>
                            <div id="collapseAlertTutorial" class="panel-collapse collapse message-pane-collapse">
                                <div class="panel-body" style="max-width: 100%; overflow-x: auto;">
                                    <div id="data_tutorial_data">
                                        <div class="wz-tutorial">
                                            <div class="panel-group" id="wizard_tutorials_collapsible">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="data_wizard_data">
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <div class="pull-right" id="wizard_steps_buttons">
                                </div>
                            </div>
                        </div>
                        <br/>

                        <div class="fuelux" style="margin-bottom: 5px;">
                            <div class="wizard" data-initialize="wizard" id="dataFileWizard" style="display: none;"
                                 tabindex="0">
                                <div class="steps-container">
                                    <ul class="steps">

                                    </ul>
                                </div>
                                <div class="actions">
                                    <button type="button" class="btn btn-default btn-prev">
                                        <span class="glyphicon glyphicon-arrow-left"></span>Prev
                                    </button>
                                    <button type="button" class="btn btn-primary btn-next" data-last="Finish!">Next
                                        <span class="glyphicon glyphicon-arrow-right"></span>
                                    </button>
                                </div>
                                <div class="step-content">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div class="col-md-8" style="display: none;">
                            <button data-toggle="tooltip" title="Save & Exit Description "
                                    id="remove_act"
                                    class="btn btn-sm btn-primary" type="button">Exit Description
                            </button>
                            <button data-toggle="tooltip" title="Discard & Exit Description "
                                    id="discard_act"
                                    class="btn btn-sm btn-danger" type="button">Discard Description
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block js_block %}
    <script src="{% static 'copo/js/generic_handlers.js' %}"></script>
    <script src="{% static 'copo/js/copo_form_handlers.js' %}"></script>
    <script src="{% static 'copo/js/copo_data.js' %}"></script>
    <script src="{% static 'copo/js/jquery.form.js' %}"></script>
    <script src="{% static 'copo/js/bootstrapValidator.js' %}"></script>
    <script src="{% static 'copo/js/uploader/vendor/jquery.ui.widget.js' %}"></script>
    <script src="{% static 'copo/js/uploader/jquery.iframe-transport.js' %}"></script>
    <script src="{% static 'copo/js/uploader/jquery.fileupload.js' %}"></script>
    <script src="{% static 'copo/js/uploader/jquery.fileupload-process.js' %}"></script>
    <script src="{% static 'copo/js/uploader/jquery.fileupload-ui.js' %}"></script>
    <script src="{% static 'copo/js/uploader/ena_upload_wrapper.js' %}"></script>
    <script src="{% static 'copo/js/uploader/bootstrap_panel.js' %}"></script>
    <script src="{% static 'copo/js/uploader/upload_util.js' %}"></script>
    <script src="{% static 'copo/js/progressbar.js' %}"></script>

{% endblock %}
